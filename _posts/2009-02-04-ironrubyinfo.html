---
title: "ironruby.info"
layout: "post"
permalink: "/2009/02/ironrubyinfo.html"
uuid: "3386768063778664070"
guid: "tag:blogger.com,1999:blog-5419182.post-3386768063778664070"
date: "2009-02-04 07:57:00"
updated: "2009-03-05 19:47:06"
description: 
blogger:
    siteid: "5419182"
    postid: "3386768063778664070"
    comments: "1"
categories: [IronRuby]
author: 
    name: "Jimmy Schementi"
    url: "https://plus.google.com/116380716127564408544?rel=author"
    image: "//lh6.googleusercontent.com/-Fl3zUgl9dMw/AAAAAAAAAAI/AAAAAAAABYQ/CvQezyGiMP4/s512-c/photo.jpg"
---

<div class="post-content">
<p>DNS seems to have propagated, so now I can tell you about ...</p>  <p><a href="http://ironruby.info"><img style="display: inline" title="ironruby-info" alt="ironruby-info" src="http://lh6.ggpht.com/_OqCZhp9yI0Q/SYlKYgMyg-I/AAAAAAAAAHU/rzJNVAP4trw/ironruby-info%5B7%5D.png?imgmax=800" width="400" height="64" /></a> </p>  <p><a href="http://ironruby.info" target="_blank">ironruby.info</a> is a new site <a href="http://github.com/jschementi/ironruby-stats" target="_blank">I’ve been working on</a> for a week or so; a place to track daily information about how <a href="http://ironruby.net" target="_blank">IronRuby</a> is doing. It shows simple performance and <a href="http://rubyspec.org/" target="_blank">RubySpec</a> information, compared to Ruby, and random build/source information. There’s a lot more to do, like tracking working set, showing graphs or historical data, and running traces popular Ruby frameworks to show which specs are “most important” to fix … but it provides some useful information already.</p>  <p>Oh, and the code is on <a href="http://github.com" target="_blank">github</a>. <a href="http://github.com/jschementi/ironruby-stats/blob/master/stats.rb" target="_blank">stats.rb</a> runs nightly collecting the data, and <a href="http://github.com/jschementi/ironruby-stats/blob/master/app.rb" target="_blank">app.rb</a> is the <a href="http://sinatra.github.com/" target="_blank">Sinatra</a> <a href="http://ironruby.info" target="_blank">website</a> showing the data. Feel free to send me patches/changes, or fork it to track other implementation :)</p>  <p><a href="http://github.com/jschementi/ironruby-stats">http://github.com/jschementi/ironruby-stats</a></p>  <p><em><strong><font color="#c0c0c0" size="1">Disclaimer: This information is gathered on a Intel Pentium 4 3.5 ghz machine, so performance numbers will be different if you have a faster processor and/or more processors/cores.</font></strong></em></p>  <h4><font color="#ff8000">Performance</font></h4>  <p>For startup time, it measures the time it takes to start <font color="#ff8000">ir.exe empty.rb</font> from the command-line, where empty is a empty file. IronRuby is currently 10x slower for startup on average, regardless of whether you’re using the interpreter or not (though the interpreter is slightly faster … we’re working on fixing that).</p>  <p>The “100,000 Iterations” is just <font color="#ff8000">$a *= 2</font> 100,000 times. Nothing fancy yet. Ideally we’d be running the <a href="http://github.com/acangiano/ruby-benchmark-suite" target="_blank">ruby-benchmark-suite</a> here. IronRuby is only 2.5x slower on this, but the interpreter is <em>way</em> slower. So, for now only use the interpreter for straight-line code ... no loops!</p>  <h4><font color="#ff8000">RubySpec</font></h4>  <p>For those who don’t know what <a href="http://rubyspec.org/" target="_blank">RubySpec</a> is:</p>  <blockquote>   <p><em>RubySpec is a project to write a complete, executable specification for the Ruby programming language</em>.</p> </blockquote>  <p>IronRuby has been using this specification for a while now to gauge our progress towards being a Ruby-1.8.6 compliant implementation. They are divided into three sections:<font color="#ff8000"> <strong>Language</strong></font> which tests Ruby itself, <strong><font color="#ff8000">Core</font></strong> which tests the libraries which Ruby needs to run, like Array, Hash, etc, and <strong><font color="#ff8000">Library</font></strong> which tests the Ruby standard library. </p>  <p>While these are a great judge of a Ruby implementation’s progress, they take a bit of time to run yourself (including setup time), and we never gave detailed reports of our own runs. So now, if you’re ever curious to know how IronRuby is doing, you can just check ironruby.info and get the data immediately. Pretty cool. <em>“But wow, that’s a ton of red on the page.”</em> --- yeah, it looks worse than it is, maybe I should use a range of red? Regardless, let’s explain the results.</p>  <h5><font color="#ff8000">Pass rate</font></h5>  <p>The pass rates in the ir.exe and ruby.exe columns are “the number of expectations which passed, divided by the total number of expectations which ruby.exe runs”. So the “all specs pass rate” number is the pure pass rate, regardless of how well/poor ruby.exe does. The “diff” column shows how far away IronRuby is from Ruby for each row.</p>  <p>Overall, IronRuby passes 86% of all the specs. Ruby (on Windows) passes 98%, so that leaves us with 12% of the specs left to get to Ruby compatibility on Windows. Not too shabby. The <strong>Core </strong>tests have the highest failure rate (-18%), followed by the Language tests (-5%), and the Library tests have a strangely-low failure rate (1.87%) since Ruby is running 482 expectations less than IronRuby … I need to investigate that.</p>  <h5><font color="#ff8000">Execution time</font></h5>  <p>The Core and Library specs are between 4-5x slower (Ruby’s Core specs report a WAY too long run time right now, usually they’re around 2 minutes). The Language specs are a whopping 50x slower, which is crazy. I have to investigate why.</p>  <h4><font color="#ff8000">Fun facts</font></h4>  <p>There’s other <em>fun facts</em> it collects; build time, binary size, repository size. Not that interesting, but still good to see … I’d like to know if our repository size shoots up dramatically.</p>  <p>&#160;</p>  <p>Anyway, that’s what <a href="http://ironruby.info" target="_blank">ironruby.info</a> gives you today. Hopefully this gives you an idea of where we are (getting close on the specs, and putting a lot of work into performance).</p>  
</div>